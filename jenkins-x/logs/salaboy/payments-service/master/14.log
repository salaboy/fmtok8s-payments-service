
Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mcredential-initializer[0m
{"level":"info","ts":1603271869.8466136,"caller":"creds-init/main.go:44","msg":"Credentials initialized."}

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mworking-dir-initializer[0m

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mplace-tools[0m

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-salaboy-payments-service-master-qg87s-qb6hd[0m
{"level":"info","ts":1603271879.3439124,"caller":"git/git.go:105","msg":"Successfully cloned https://github.com/*******/payments-service.git @ v0.0.18 in path /workspace/source"}
{"level":"warn","ts":1603271879.3443248,"caller":"git/git.go:152","msg":"Unexpected error: creating symlink: symlink /tekton/home/.ssh /root/.ssh: file exists"}
{"level":"info","ts":1603271879.4371634,"caller":"git/git.go:133","msg":"Successfully initialized and updated submodules in path /workspace/source"}

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:cc69d7604fa9e834eccbf572b8404541efda4f92
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------< com.*******.payments:payments-service >----------------
[INFO] Building payments-service 0.0.18
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ payments-service ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ payments-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ payments-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ payments-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ payments-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ payments-service ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.*******.payments.service.PaymentsServiceApplicationTests
09:18:47.048 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
09:18:47.086 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
09:18:47.230 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.*******.payments.service.PaymentsServiceApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
09:18:47.283 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.*******.payments.service.PaymentsServiceApplicationTests], using SpringBootContextLoader
09:18:47.308 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.payments.service.PaymentsServiceApplicationTests]: class path resource [com/*******/payments/service/PaymentsServiceApplicationTests-context.xml] does not exist
09:18:47.317 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.payments.service.PaymentsServiceApplicationTests]: class path resource [com/*******/payments/service/PaymentsServiceApplicationTestsContext.groovy] does not exist
09:18:47.322 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.*******.payments.service.PaymentsServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
09:18:47.326 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.*******.payments.service.PaymentsServiceApplicationTests]: PaymentsServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09:18:47.446 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.*******.payments.service.PaymentsServiceApplicationTests]
09:18:47.725 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/*******/payments/service/PaymentsServiceApplication.class]
09:18:47.742 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.*******.payments.service.PaymentsServiceApplication for test class com.*******.payments.service.PaymentsServiceApplicationTests
09:18:48.213 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.*******.payments.service.PaymentsServiceApplicationTests]: using defaults.
09:18:48.223 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09:18:48.273 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
09:18:48.283 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
09:18:48.295 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
09:18:48.299 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53d102a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c45ee6e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5aac4250, org.springframework.test.context.event.EventPublishingTestExecutionListener@1338fb5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@42463763, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@59f63e24, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@61f05988, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ca33c24, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fade1fc]
09:18:48.318 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@54c62d71 testClass = PaymentsServiceApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@65045a87 testClass = PaymentsServiceApplicationTests, locations = '{}', classes = '{class com.*******.payments.service.PaymentsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4470fbd6, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@24959ca4, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68878f6d], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
09:18:48.387 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@54c62d71 testClass = PaymentsServiceApplicationTests, testInstance = com.*******.payments.service.PaymentsServiceApplicationTests@65fe9e33, testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@65045a87 testClass = PaymentsServiceApplicationTests, locations = '{}', classes = '{class com.*******.payments.service.PaymentsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c9b0314, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4470fbd6, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@24959ca4, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68878f6d], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]].
09:18:48.591 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-10-21 09:18:49.308  INFO 68 --- [           main] c.s.p.s.PaymentsServiceApplicationTests  : Starting PaymentsServiceApplicationTests on *******-payments-service-master-qg87s-14-from-build-pack--kkwgh with PID 68 (started by root in /workspace/source)
2020-10-21 09:18:49.318  INFO 68 --- [           main] c.s.p.s.PaymentsServiceApplicationTests  : No active profile set, falling back to default profiles: default
2020-10-21 09:18:56.587  INFO 68 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-10-21 09:18:59.287  INFO 68 --- [           main] c.s.p.s.PaymentsServiceApplicationTests  : Started PaymentsServiceApplicationTests in 10.678 seconds (JVM running for 16.162)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.819 s - in com.*******.payments.service.PaymentsServiceApplicationTests
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.2:jar (default-jar) @ payments-service ---
[INFO] Building jar: /workspace/source/target/payments-service-0.0.18.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.2.6.RELEASE:repackage (repackage) @ payments-service ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ payments-service ---
[INFO] Installing /workspace/source/target/payments-service-0.0.18.jar to /home/jenkins/.mvnrepository/com/*******/payments/payments-service/0.0.18/payments-service-0.0.18.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/*******/payments/payments-service/0.0.18/payments-service-0.0.18.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ payments-service ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:05 min
[INFO] Finished at: 2020-10-21T09:19:11Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E1021 09:19:13.901060       9 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest openjdk:11-jre-slim 
E1021 09:19:14.326979       9 metadata.go:154] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
E1021 09:19:14.330503       9 metadata.go:166] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
[36mINFO[0m[0002] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0003] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0004] Executing 0 build triggers                   
[36mINFO[0m[0004] cmd: EXPOSE                                  
[36mINFO[0m[0004] Adding exposed port: 8080/tcp                
[36mINFO[0m[0004] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0004] Checking for cached layer gcr.io/camunda-researchanddevelopment/cache:a8f68e919978a9370bd6788e5122b95ab501c518099cdd03d875ec6fef27e5e3... 
[36mINFO[0m[0005] No cached layer found for cmd COPY pom.xml target/lib* /opt/lib/ 
[36mINFO[0m[0005] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0005] Unpacking rootfs as cmd COPY pom.xml target/lib* /opt/lib/ requires it. 
[36mINFO[0m[0009] ENV PORT 8080                                
[36mINFO[0m[0009] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0009] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0009] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0009] EXPOSE 8080                                  
[36mINFO[0m[0009] cmd: EXPOSE                                  
[36mINFO[0m[0009] Adding exposed port: 8080/tcp                
[36mINFO[0m[0009] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0009] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0009] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0009] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0009] Resolving 1 paths                            
[36mINFO[0m[0009] Taking snapshot of files...                  
[36mINFO[0m[0009] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0009] Pushing layer gcr.io/camunda-researchanddevelopment/cache:a8f68e919978a9370bd6788e5122b95ab501c518099cdd03d875ec6fef27e5e3 to cache now 
[36mINFO[0m[0009] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0009] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0010] Resolving 1 paths                            
[36mINFO[0m[0010] Taking snapshot of files...                  
[36mINFO[0m[0010] Pushing layer gcr.io/camunda-researchanddevelopment/cache:dcb60b1c9f5343984fa423e0b0b5ce80ef5255bec95ead2c6b0bff1ee6e7f7f6 to cache now 
[36mINFO[0m[0010] WORKDIR /opt                                 
[36mINFO[0m[0010] cmd: workdir                                 
[36mINFO[0m[0010] Changed working directory to /opt            
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0010] CMD ["java", "-jar", "app.jar"]              
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msalaboy-payments-service-master-qg87s-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
/bin/sh: line 0: cd: /workspace/source/charts/payments-service: No such file or directory
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-changelog'. The execution of the pipeline has stopped.[0m
